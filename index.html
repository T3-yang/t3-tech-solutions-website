<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2563eb">
    <title>Savvy Spending - Personal Finance Tracker</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- iOS Specific Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Savvy Spending">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js for Charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- App Container -->
    <div id="app">
        <!-- Header -->
        <header class="app-header">
            <h1><i class="fas fa-piggy-bank"></i> Savvy Spending</h1>
            <div class="header-controls">
                <button id="settingsBtn" class="icon-btn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <!-- Balance Overview -->
                <div class="balance-card">
                    <div class="balance-item">
                        <span class="balance-label">Current Balance</span>
                        <span class="balance-amount" id="currentBalance">$0.00</span>
                    </div>
                    <div class="balance-row">
                        <div class="balance-item income">
                            <span class="balance-label">Income</span>
                            <span class="balance-amount" id="totalIncome">$0.00</span>
                        </div>
                        <div class="balance-item expense">
                            <span class="balance-label">Expenses</span>
                            <span class="balance-amount" id="totalExpenses">$0.00</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Action Buttons -->
                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="quick-buttons">
                        <!-- Quick Action Buttons (Alphabetical Order) -->
                        <button class="quick-btn custom" id="customBtn">
                            <i class="fas fa-plus-circle"></i>
                            <span>Custom</span>
                        </button>
                        <button class="quick-btn expense" data-category="food" data-amount="">
                            <i class="fas fa-utensils"></i>
                            <span>Food</span>
                        </button>
                        <button class="quick-btn expense" data-category="entertainment" data-amount="">
                            <i class="fas fa-film"></i>
                            <span>Fun</span>
                        </button>
                        <button class="quick-btn income" data-category="salary" data-amount="">
                            <i class="fas fa-plus"></i>
                            <span>Income</span>
                        </button>
                        <button class="quick-btn expense" data-category="shopping" data-amount="">
                            <i class="fas fa-shopping-bag"></i>
                            <span>Shopping</span>
                        </button>
                        <button class="quick-btn expense" data-category="transport" data-amount="">
                            <i class="fas fa-car"></i>
                            <span>Transport</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Transactions -->
                <div class="recent-transactions">
                    <h3>Recent Transactions</h3>
                    <div id="transactionsList" class="transactions-list">
                        <!-- Transactions will be populated here -->
                    </div>
                </div>
            </section>

            <!-- Transactions Section (Expenses Only) -->
            <section id="transactions" class="section">
                <div class="section-header">
                    <h2>All Expenses</h2>
                    <button id="addExpenseBtn" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Add Expense
                    </button>
                </div>
                
                <!-- Date Filter Controls -->
                <div class="date-filter-controls">
                    <!-- Quick Date Filters -->
                    <div class="quick-date-filters">
                        <button class="quick-date-btn expense-date-filter" data-period="today">Today</button>
                        <button class="quick-date-btn expense-date-filter" data-period="7days">Last 7 Days</button>
                        <button class="quick-date-btn expense-date-filter" data-period="4weeks">Last 4 Weeks</button>
                        <button class="quick-date-btn expense-date-filter" data-period="3months">Last 3 Months</button>
                        <button class="quick-date-btn expense-date-filter" data-period="6months">Last 6 Months</button>
                        <button class="quick-date-btn expense-date-filter" data-period="1year">Last Year</button>
                    </div>
                    
                    <!-- Custom Date Range -->
                    <div class="filter-row">
                        <div class="filter-group">
                            <label for="expenseDateFromFilter">From:</label>
                            <input type="date" id="expenseDateFromFilter">
                        </div>
                        <div class="filter-group">
                            <label for="expenseDateToFilter">To:</label>
                            <input type="date" id="expenseDateToFilter">
                        </div>
                        <button id="clearExpenseDateFiltersBtn" class="btn btn-secondary btn-small">Reset</button>
                    </div>
                </div>

                <!-- Filter Controls -->
                <div class="filter-controls">
                    <select id="expenseCategoryFilter">
                        <option value="">All Categories</option>
                        <option value="food">Food</option>
                        <option value="transport">Transport</option>
                        <option value="shopping">Shopping</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="bills">Bills</option>
                        <option value="health">Health</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div id="allExpensesList" class="transactions-list">
                    <!-- All expenses will be populated here -->
                </div>
            </section>

            <!-- Income Section -->
            <section id="income" class="section">
                <div class="section-header">
                    <h2>All Income</h2>
                    <button id="addIncomeBtn" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Add Income
                    </button>
                </div>
                
                <!-- Income Summary -->
                <div class="income-summary">
                    <div class="summary-card">
                        <div class="summary-label">Total Income</div>
                        <div class="summary-amount" id="totalIncomeDisplay">$0.00</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-label">This Month</div>
                        <div class="summary-amount" id="monthlyIncomeDisplay">$0.00</div>
                    </div>
                </div>

                <!-- Date Filter Controls -->
                <div class="date-filter-controls">
                    <!-- Quick Date Filters -->
                    <div class="quick-date-filters">
                        <button class="quick-date-btn income-date-filter" data-period="today">Today</button>
                        <button class="quick-date-btn income-date-filter" data-period="7days">Last 7 Days</button>
                        <button class="quick-date-btn income-date-filter" data-period="4weeks">Last 4 Weeks</button>
                        <button class="quick-date-btn income-date-filter" data-period="3months">Last 3 Months</button>
                        <button class="quick-date-btn income-date-filter" data-period="6months">Last 6 Months</button>
                        <button class="quick-date-btn income-date-filter" data-period="1year">Last Year</button>
                    </div>
                    
                    <!-- Custom Date Range -->
                    <div class="filter-row">
                        <div class="filter-group">
                            <label for="incomeDateFromFilter">From:</label>
                            <input type="date" id="incomeDateFromFilter">
                        </div>
                        <div class="filter-group">
                            <label for="incomeDateToFilter">To:</label>
                            <input type="date" id="incomeDateToFilter">
                        </div>
                        <button id="clearIncomeDateFiltersBtn" class="btn btn-secondary btn-small">Reset</button>
                    </div>
                </div>

                <div id="allIncomeList" class="transactions-list">
                    <!-- All income will be populated here -->
                </div>
            </section>

            <!-- All Transactions Section -->
            <section id="all-transactions" class="section">
                <div class="section-header">
                    <h2>All Transactions</h2>
                    <button id="addAllTransactionBtn" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Add Transaction
                    </button>
                </div>
                
                <!-- Date Filter Controls -->
                <div class="date-filter-controls">
                    <!-- Quick Date Filters -->
                    <div class="quick-date-filters">
                        <button class="quick-date-btn" data-period="today">Today</button>
                        <button class="quick-date-btn" data-period="7days">Last 7 Days</button>
                        <button class="quick-date-btn" data-period="4weeks">Last 4 Weeks</button>
                        <button class="quick-date-btn" data-period="3months">Last 3 Months</button>
                        <button class="quick-date-btn" data-period="6months">Last 6 Months</button>
                        <button class="quick-date-btn" data-period="1year">Last Year</button>
                    </div>
                    
                    <!-- Custom Date Range -->
                    <div class="filter-row">
                        <div class="filter-group">
                            <label for="dateFromFilter">From:</label>
                            <input type="date" id="dateFromFilter">
                        </div>
                        <div class="filter-group">
                            <label for="dateToFilter">To:</label>
                            <input type="date" id="dateToFilter">
                        </div>
                        <button id="clearDateFiltersBtn" class="btn btn-secondary btn-small">Reset</button>
                    </div>
                </div>

                <!-- Filter Controls -->
                <div class="filter-controls">
                    <select id="allCategoryFilter">
                        <option value="">All Categories</option>
                        <option value="food">Food</option>
                        <option value="transport">Transport</option>
                        <option value="shopping">Shopping</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="bills">Bills</option>
                        <option value="health">Health</option>
                        <option value="salary">Salary</option>
                        <option value="other">Other</option>
                    </select>
                    <select id="allTypeFilter">
                        <option value="">All Types</option>
                        <option value="income">Income</option>
                        <option value="expense">Expense</option>
                    </select>
                </div>

                <div id="allTransactionsList" class="transactions-list">
                    <!-- All transactions will be populated here -->
                </div>
            </section>

            <!-- Bills Section -->
            <section id="bills" class="section">
                <div class="section-header">
                    <h2>Bills & Recurring</h2>
                    <button id="addBillBtn" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Add Bill
                    </button>
                </div>
                
                <div id="billsList" class="bills-list">
                    <!-- Bills will be populated here -->
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="section">
                <h2>Spending Reports</h2>
                
                <!-- Monthly Summary -->
                <div class="report-card">
                    <h3>This Month Summary</h3>
                    <div id="monthlyChart" class="chart-container">
                        <!-- Chart will be rendered here -->
                    </div>
                </div>

                <!-- Category Breakdown -->
                <div class="report-card">
                    <h3>Category Breakdown</h3>
                    <div class="chart-container">
                        <canvas id="categoryPieChart" width="300" height="300"></canvas>
                    </div>
                    <div id="categoryLegend" class="category-legend">
                        <!-- Category legend will be populated here -->
                    </div>
                </div>
            </section>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-section="dashboard">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
            </button>
            <button class="nav-btn" data-section="all-transactions">
                <i class="fas fa-list"></i>
                <span>All</span>
            </button>
            <button class="nav-btn" data-section="transactions">
                <i class="fas fa-minus-circle"></i>
                <span>Expenses</span>
            </button>
            <button class="nav-btn" data-section="income">
                <i class="fas fa-plus-circle"></i>
                <span>Income</span>
            </button>
            <button class="nav-btn" data-section="bills">
                <i class="fas fa-file-invoice"></i>
                <span>Bills</span>
            </button>
            <button class="nav-btn" data-section="reports">
                <i class="fas fa-chart-pie"></i>
                <span>Reports</span>
            </button>
        </nav>

    </div>

    <!-- Modal for Adding Transactions -->
    <div id="transactionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Add Transaction</h3>
                <button class="close-btn" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="transactionForm">
                <div class="form-group">
                    <label for="transactionType">Type</label>
                    <select id="transactionType" required>
                        <option value="expense">Expense</option>
                        <option value="income">Income</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="transactionAmount">Amount ($)</label>
                    <input type="number" id="transactionAmount" step="0.01" min="0" required>
                </div>
                
                <div class="form-group">
                    <label for="transactionCategory">Category</label>
                    <select id="transactionCategory" required>
                        <option value="food">Food & Dining</option>
                        <option value="transport">Transportation</option>
                        <option value="shopping">Shopping</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="bills">Bills & Utilities</option>
                        <option value="health">Health & Fitness</option>
                        <option value="salary">Salary</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="transactionDescription">Description</label>
                    <input type="text" id="transactionDescription" placeholder="Optional description">
                </div>
                
                <div class="form-group">
                    <label for="transactionDate">Date</label>
                    <input type="date" id="transactionDate" required>
                </div>
                <div class="form-group">
                    <label for="transactionTime">Time (optional)</label>
                    <input type="time" id="transactionTime" placeholder="Leave blank for current time">
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelTransaction">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Transaction</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for Adding Bills -->
    <div id="billModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Recurring Bill</h3>
                <button class="close-btn" id="closeBillModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="billForm">
                <div class="form-group">
                    <label for="billName">Bill Name</label>
                    <input type="text" id="billName" placeholder="e.g., Netflix, Rent, Phone" required>
                </div>
                
                <div class="form-group">
                    <label for="billAmount">Amount ($)</label>
                    <input type="number" id="billAmount" step="0.01" min="0" required>
                </div>
                
                <div class="form-group">
                    <label for="billFrequency">Frequency</label>
                    <select id="billFrequency" required>
                        <option value="monthly">Monthly</option>
                        <option value="weekly">Weekly</option>
                        <option value="yearly">Yearly</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="billDueDate">Next Due Date</label>
                    <input type="date" id="billDueDate" required>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelBill">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Bill</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="close-btn" id="closeSettingsModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="settings-content">
                <div class="settings-section">
                    <h4>Export Data</h4>
                    <p>Download your financial data as a spreadsheet</p>
                    <div class="settings-actions">
                        <button id="exportExpensesBtn" class="btn btn-primary">
                            <i class="fas fa-download"></i> Export Expenses (CSV)
                        </button>
                        <button id="exportAllDataBtn" class="btn btn-secondary">
                            <i class="fas fa-file-export"></i> Export All Data (JSON)
                        </button>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Data Management</h4>
                    <p>Backup and restore your data</p>
                    <div class="settings-actions">
                        <input type="file" id="csvFileInput" accept=".csv" style="display: none;" />
                        <button id="importCsvBtn" class="btn btn-secondary">
                            <i class="fas fa-upload"></i> Import from CSV
                        </button>
                        <button id="clearDataBtn" class="btn btn-danger">
                            <i class="fas fa-trash"></i> Clear All Data
                        </button>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>About</h4>
                    <p>Savvy Spending v1.0<br>Personal Finance Tracker</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Donation Footer -->
    <footer class="donation-footer">
        <p>
            <i class="fas fa-heart"></i>
            Love the app? Consider donating to 
            <a href="mailto:your-paypal@email.com" class="donation-link">your-paypal@email.com</a>. 
            Any amount will be greatly appreciated to keep the app free to use.
        </p>
    </footer>

    <!-- Scripts -->
    <script src="app.js"></script>
</body>
</html>
